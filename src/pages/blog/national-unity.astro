---
import BlogLayout from '../../layouts/BlogLayout.astro';
import Author from '../../components/Author.astro';
import TableOfContents from '../../components/TableOfContents.astro';
import ShareButtons from '../../components/ShareButtons.astro';
import ReadingTime from '../../components/ReadingTime.astro';
import BackToTop from '../../components/BackToTop.astro';

const headings = [
  { text: "The Path to Healing: Fostering Cultural Unity", slug: "the-path-to-healing" },
  { text: "Service Beyond the Self: The Power of Shared Purpose", slug: "service-beyond-self" },
  { text: "A New Narrative: Reclaiming Our Shared Identity", slug: "new-narrative" },
  { text: "Addressing Economic Disparities: The Great Equalizer", slug: "economic-disparities" },
  { text: "A Final Plea: Hope for a Better Tomorrow", slug: "final-plea" }
];

const content = `There is a fracture in our nation...`; // Your full content here
const pageUrl = Astro.url.toString();
---

<BlogLayout title="A Call for National Unity: A Plea for Healing">
  <div class="lg:grid lg:grid-cols-[280px_1fr] lg:gap-12 relative">
    <div class="hidden lg:block">
      <TableOfContents headings={headings} />
    </div>

    <div class="relative">
      <div class="mb-8 pb-8 border-b border-slate-200 dark:border-slate-800">
        <Author name="Justin Nichols" date="October 23, 2024" />
        <div class="flex items-center gap-6 mt-6">
          <ReadingTime content={content} />
          <ShareButtons 
            url={pageUrl}
            title="A Call for National Unity: A Plea for Healing"
          />
        </div>
      </div>

      <div class="prose prose-lg prose-slate dark:prose-invert max-w-none">
        <p class="lead first-letter:text-5xl first-letter:font-serif first-letter:mr-3 first-letter:float-left first-letter:font-bold">
          {content.split('\n\n')[0]}
        </p>
        <Fragment set:html={content.split('\n\n').slice(1).join('\n\n')} />
      </div>

      <div class="mt-12 pt-8 border-t border-slate-200 dark:border-slate-800">
        <div class="flex flex-col sm:flex-row items-center justify-between gap-6">
          <div class="flex items-center gap-4">
            <img 
              src="https://api.dicebear.com/7.x/initials/svg?seed=JN&backgroundColor=0369a1" 
              alt="Justin Nichols" 
              class="w-12 h-12 rounded-full"
            />
            <div>
              <div class="font-medium text-slate-900 dark:text-white">Justin Nichols</div>
              <div class="text-sm text-slate-600 dark:text-slate-400">Political Analyst & Writer</div>
            </div>
          </div>
          <ShareButtons 
            url={pageUrl}
            title="A Call for National Unity: A Plea for Healing"
          />
        </div>
      </div>
    </div>
  </div>
  
  <BackToTop />
</BlogLayout>

<style>
  .lead {
    @apply text-xl text-slate-900 dark:text-white mb-8 font-medium leading-relaxed tracking-wide;
  }

  .prose {
    @apply prose-headings:text-slate-900 
           prose-headings:font-bold
           prose-headings:tracking-tight
           prose-headings:scroll-mt-24
           prose-p:text-slate-700 
           prose-p:leading-relaxed
           prose-a:text-blue-600 
           prose-a:no-underline 
           prose-a:transition-colors
           hover:prose-a:text-blue-700
           hover:prose-a:underline
           prose-strong:text-slate-900
           prose-strong:font-semibold
           prose-blockquote:text-slate-700
           prose-blockquote:border-blue-600
           prose-blockquote:bg-blue-50
           prose-blockquote:dark:bg-blue-950/30
           prose-blockquote:px-6
           prose-blockquote:py-4
           prose-blockquote:rounded-r-lg;
  }

  .dark .prose {
    @apply prose-headings:text-white 
           prose-p:text-slate-300 
           prose-strong:text-white
           prose-blockquote:text-slate-300;
  }

  /* Fancy link underline animation */
  .prose a {
    @apply relative no-underline;
  }

  .prose a::after {
    @apply content-[''] absolute bottom-0 left-0 w-0 h-0.5 bg-blue-600 transition-all duration-300;
  }

  .prose a:hover::after {
    @apply w-full;
  }

  /* Enhance blockquotes */
  .prose blockquote {
    @apply shadow-sm;
  }

  .prose blockquote p:first-of-type::before {
    content: '"';
    @apply text-3xl text-blue-600 dark:text-blue-400 font-serif mr-1;
  }

  .prose blockquote p:last-of-type::after {
    content: '"';
    @apply text-3xl text-blue-600 dark:text-blue-400 font-serif ml-1;
  }

  /* Enhance headings */
  .prose h2 {
    @apply relative pl-6 -ml-6;
  }

  .prose h2::before {
    @apply content-[''] absolute left-0 top-1/2 -translate-y-1/2 w-4 h-0.5 bg-blue-600 dark:bg-blue-400 rounded-full;
  }
</style>