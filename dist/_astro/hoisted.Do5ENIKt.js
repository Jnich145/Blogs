const l=document.getElementById("dark-mode-toggle"),r=localStorage.getItem("darkMode");(r==="enabled"||!r&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark");l?.addEventListener("click",()=>{document.documentElement.classList.toggle("dark"),document.documentElement.classList.contains("dark")?localStorage.setItem("darkMode","enabled"):localStorage.setItem("darkMode","disabled")});const a=document.querySelectorAll("nav a"),c=document.querySelectorAll("h2[id]"),n={root:null,rootMargin:"-20% 0px -60% 0px",threshold:0},i=new IntersectionObserver(o=>{o.forEach(s=>{const d=[...a].find(t=>t.getAttribute("href")===`#${s.target.id}`);s.isIntersecting&&(a.forEach(t=>{t.classList.remove("text-blue-600","dark:text-blue-400","border-blue-600","dark:border-blue-400","font-medium"),t.classList.add("text-slate-600","dark:text-slate-400","border-slate-200","dark:border-slate-700")}),d?.classList.remove("text-slate-600","dark:text-slate-400","border-slate-200","dark:border-slate-700"),d?.classList.add("text-blue-600","dark:text-blue-400","border-blue-600","dark:border-blue-400","font-medium"))})},n);c.forEach(o=>i.observe(o));const e=document.getElementById("back-to-top");window.addEventListener("scroll",()=>{window.scrollY>300?(e?.classList.remove("opacity-0"),e?.classList.add("opacity-100")):(e?.classList.remove("opacity-100"),e?.classList.add("opacity-0"))});e?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});
