const a=document.getElementById("toc-toggle"),l=document.getElementById("toc-content"),r=document.getElementById("toc-container");a.addEventListener("click",()=>{l.classList.toggle("hidden"),r.classList.toggle("w-64")});const d=document.querySelectorAll("nav a"),i=document.querySelectorAll("h2[id]"),m={root:null,rootMargin:"-20% 0px -60% 0px",threshold:0},g=new IntersectionObserver(t=>{t.forEach(c=>{const o=[...d].find(e=>e.getAttribute("href")===`#${c.target.id}`);c.isIntersecting&&(d.forEach(e=>{e.classList.remove("text-blue-600","dark:text-blue-400","border-blue-600","dark:border-blue-400","font-medium"),e.classList.add("text-slate-700","dark:text-slate-300")}),o&&(o.classList.remove("text-slate-700","dark:text-slate-300"),o.classList.add("text-blue-600","dark:text-blue-400","font-medium")))})},m);i.forEach(t=>g.observe(t));d.forEach(t=>{t.addEventListener("click",c=>{c.preventDefault();const o=t.getAttribute("href"),e=document.querySelector(o);e&&e.scrollIntoView({behavior:"smooth"})})});const s=document.getElementById("back-to-top");window.addEventListener("scroll",()=>{window.scrollY>300?(s?.classList.remove("opacity-0"),s?.classList.add("opacity-100")):(s?.classList.remove("opacity-100"),s?.classList.add("opacity-0"))});s?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const u=document.getElementById("dark-mode-toggle"),n=localStorage.getItem("darkMode");(n==="enabled"||!n&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&document.documentElement.classList.add("dark");u?.addEventListener("click",()=>{document.documentElement.classList.toggle("dark"),document.documentElement.classList.contains("dark")?localStorage.setItem("darkMode","enabled"):localStorage.setItem("darkMode","disabled")});
